@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model QLBanHang_UI.Models.ViewModel
@using QLBanHang_UI.Models
@{
    var product1s = Model.Products!.Take(4).ToList();
    var product2s = Model.Products!.Skip(4).Take(4).ToList();
    var cart = ViewData["Carts"] as List<CartItemDto> ?? new List<CartItemDto>();
}

<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from portotheme.com/html/porto_ecommerce/@Url.Action("DashBoard","DashBoard",new{area="User"}) by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2024 09:55:18 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Porto - Bootstrap eCommerce Template</title>

    <meta name="keywords" content="HTML5 Template" />
    <meta name="description" content="Porto - Bootstrap eCommerce Template">
    <meta name="author" content="SW-THEMES">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="~/images/icons/favicon.png">

    <script>
        WebFontConfig = {
        google: {
        families: ['Open+Sans:300,400,600,700,800', 'Poppins:300,400,500,600,700']
        }
        };
        (function (d) {
        var wf = d.createElement('script'),
        s = d.scripts[0];
        wf.src = '/js/webfont.js';
        wf.async = true;
        s.parentNode.insertBefore(wf, s);
        })(document);
    </script>

    <!-- Plugins CSS File -->
    <link rel="stylesheet" href="~/css/bootstrap.min.css">

    <!-- Main CSS File -->
    <link rel="stylesheet" href="~/css/demo9.min.css">
    <link rel="stylesheet" type="text/css" href="~/vendor/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="~/vendor/simple-line-icons/css/simple-line-icons.min.css">
</head>

<body class="boxed">
    <div class="page-wrapper">
        <header class="header mb-0" data-y="0">
            @await Html.PartialAsync("_Header", Model)
        </header>
        
    </div>
    <!-- End .header -->

    <main class="main">
        <div class="container">
            <div class="row m-b-3">
                <div class="home-slider-container col-lg-9 offset-lg-3">
                    <div class="home-slider owl-carousel owl-carousel-lazy owl-theme slide-animate" data-owl-options="{
                            'nav': false
                        }">
                        <div class="home-slide banner">
                            <a href="#">
                                <img class="slide-bg" src="~/images/background/DNHA.jpg" style="background-color: #ccc;" alt="banner" width="835" height="410" />
                            </a>
                            <div class="banner-layer slide-1 text-xl-right banner-layer-middle">
                                <!-- <h4 class="text-xl-right slide-title appear-animate" data-animation-delay="100" data-animation-name="fadeInUpShorter">Find the Boundaries. Push Through!</h4> -->
                                <h2 class="text-xl-right text-uppercase sub-title appear-animate" data-animation-delay="300" data-animation-name="fadeInUpShorter">Du lịch và Ẩm thực</h2>
                                <div class="row">
                                    <div class="col-auto col-md-6 appear-animate" data-animation-delay="500" data-animation-name="fadeInRightShorter">
                                        <!-- <h3 class="sale-label line-height-1 mb-0 d-inline-block text-center">
                                            40<small><sup>%</sup><sub>OFF</sub></small></h3> -->
                                    </div>
                                    <div class="col-auto col-md-6 content-right appear-animate" data-animation-delay="700" data-animation-name="fadeInRightShorter">
                                        <!-- <h4 class="d-inline-block text-left text-uppercase line-height-1 d-inline-block">
                                            Starting At</h4>
                                        <h5 class="text-left coupon-sale-text">$<b>119</b>99</h5> -->
                                        <div class="mb-0">
                                            <!-- <a href="demo9-shop.html" class="btn btn-modern btn-md btn-dark">SHOP
                                                NOW!
                                            </a> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="home-slide banner">
                            <a href="#">
                                <img class="slide-bg" src="~/images/demoes/demo9/slider/slide-2.jpg" style="background-color: #444;" alt="banner" width="835" height="410" />
                            </a>
                            <div class="banner-layer slide-2 text-right banner-layer-middle">
                                <div>
                                    <h2 class="text-right text-uppercase text-primary ls-n-20 m-b-2 appear-animate" data-animation-delay="100" data-animation-name="fadeInUpShorter">
                                        FLASH SALE
                                    </h2>
                                    <h4 class="text-right m-b-2 appear-animate" data-animation-delay="300" data-animation-name="fadeInUpShorter">
                                        TOP BRANDS<br>SUMMER SUNGLASSES
                                    </h4>
                                    <h3 class="text-right text-uppercase text-light ls-n-20 m-b-4 appear-animate" data-animation-delay="500" data-animation-name="fadeInUpShorter">
                                        STARTING<br>AT<sup class="pl-2 ml-1">$</sup>199<sup>99</sup>
                                    </h3>
                                    <div class="pt-1">
                                        <a href="#" class="btn btn-modern btn-lg btn-light appear-animate" data-animation-delay="700" data-animation-name="fadeInUpShorter">
                                            View
                                            Sale
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End .home-slider -->
                </div>
                <!-- End .col-lg-9 -->
            </div>
            <!-- End .row -->

            <section class="featured-products-section">
                <h2 class="section-title title-decorate text-center d-flex align-items-center appear-animate" data-animation-delay="100" data-animation-duration="1500">Featured Products</h2>

                <div class="owl-carousel owl-theme nav-image-center" data-owl-options="{
                            'margin': 20,
                            'dots': false,
                            'nav': true,
                            'loop': false,
                            'autoplay': false,
                            'responsive': {
                                '0': {
                                    'items': 2
                                },
                                '768': {
                                    'items': 3
                                },
                                '1200': {
                                    'items': 4
                                }
                            }
                        }">
                    
                    @foreach (var product in product1s)
                    {
                        <div class="product-default left-details">
                            <figure>
                                <a asp-area="User" asp-controller="Dashboard" asp-action="ProductDetail" asp-route-id="@product.ProductId">
                                    <img src="@product.ImageUrl" alt="product" width="300" height="300">
                                </a>
                                <div class="label-group">
                                    <span class="product-label label-hot">HOT</span>
                                </div>
                            </figure>
                            <div class="product-details">
                                <div class="category-list">
                                    @foreach (var category in product.CategoryNames!)
                                    {
                                        <a href="@Url.Action("CategoryProduct","DashBoard",new {area="User", category=category})" class="product-category">@category ,</a>
                                    }
                                </div>
                                <h3 class="product-title">
                                    <a href="@Url.Action("ProductDetail","DashBoard",new {area="User", id =product.ProductId})">@product.Name</a>
                                </h3>
                                <div class="ratings-container">
                                    <div class="product-ratings">
                                        <span class="ratings" style="width:0%"></span>
                                        <!-- End .ratings -->
                                        <span class="tooltiptext tooltip-top"></span>
                                    </div>
                                    <!-- End .product-ratings -->
                                </div>
                                <!-- End .product-container -->
                                <div class="price-box">
                                    @if (product.PromotionPrice != null)
                                    {
                                        <span class="old-price">@product.Price VND</span>
                                        <span class="new-price">@product.PromotionPrice VND</span>
                                    }
                                    else
                                    {
                                        <span class="new-price">@product.Price</span>
                                    }

                                </div>
                                <!-- End .price-box -->
                                <div class="product-action">
                                    <a asp-area="User" asp-controller="Dashboard" asp-action="AddItem" asp-route-id="@product.ProductId" class="btn-icon btn-add-cart product-type-simple">
                                        <i class="icon-shopping-cart"></i><span>ADD TO CART</span>
                                    </a>
                                    <a href="#" class="btn-icon-wish" title="wishlist">
                                        <i class="icon-heart"></i>
                                    </a>
                                    <a href="ajax/product-quick-view.html" class="btn-quickview" title="Quick View">
                                        <i class="fas fa-external-link-alt"></i>
                                    </a>
                                </div>
                            </div>
                            <!-- End .product-details -->
                        </div>
                    }
                    <!-- End .product-details -->
                </div>
        </div>
        </section>


        <div class="home-products-container text-center">
            <div class="row">
                <div class="col-md-6 mb-2 appear-animate" data-animation-delay="200" data-animation-name="fadeIn">
                    <div class="home-products bg-gray p-y-5">
                        <h3 class="section-sub-title">BEST SELLERS PRODUCTS</h3>

                        <div class="owl-carousel owl-theme nav-image-center nav-thin nav-style-1" data-owl-options="{
                                    'dots': false,
                                    'nav': true,
                                    'loop': false,
                                    'autoplay': false,
                                    'responsive': {
                                        '480': {
                                            'items': 1
                                        },
                                        '768': {
                                            'items': 1
                                        }
                                    }
                                }">
                            <div class="product-default pl-3 pr-3 pl-3 pr-3">
                                <figure>
                                    <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">
                                        <img src="~/images/demoes/demo9/products/product-1.jpg" alt="product" width="300" height="300" />
                                    </a>
                                    <div class="label-group">
                                        <span class="product-label label-hot">HOT</span>
                                    </div>
                                </figure>
                                <div class="product-details">
                                    <div class="category-list">
                                        <a href="demo9-shop.html" class="product-category">headphone</a>,
                                        <a href="demo9-shop.html" class="product-category">toys</a>
                                    </div>
                                    <h3 class="product-title">
                                        <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">Women Bag</a>
                                    </h3>
                                    <div class="ratings-container">
                                        <div class="product-ratings">
                                            <span class="ratings" style="width:0%"></span>
                                            <!-- End .ratings -->
                                            <span class="tooltiptext tooltip-top"></span>
                                        </div>
                                        <!-- End .product-ratings -->
                                    </div>
                                    <!-- End .product-container -->
                                    <div class="price-box">
                                        <span class="product-price">$299.00</span>
                                    </div>
                                    <!-- End .price-box -->
                                </div>
                                <!-- End .product-details -->
                            </div>

                            <div class="product-default pl-3 pr-3">
                                <figure>
                                    <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">
                                        <img src="~/images/demoes/demo9/products/product-2.jpg" alt="product" width="300" height="300" />
                                    </a>
                                    <div class="label-group">
                                        <span class="product-label label-sale">-10%</span>
                                    </div>
                                </figure>
                                <div class="product-details">
                                    <div class="category-list">
                                        <a href="demo9-shop.html" class="product-category">category</a>
                                    </div>
                                    <h3 class="product-title">
                                        <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">Women Winter Shoes</a>
                                    </h3>
                                    <div class="ratings-container">
                                        <div class="product-ratings">
                                            <span class="ratings" style="width:0%"></span>
                                            <!-- End .ratings -->
                                            <span class="tooltiptext tooltip-top"></span>
                                        </div>
                                        <!-- End .product-ratings -->
                                    </div>
                                    <!-- End .product-container -->
                                    <div class="price-box">
                                        <span class="product-price">$209.00 – $249.00</span>
                                    </div>
                                    <!-- End .price-box -->
                                </div>
                                <!-- End .product-details -->
                            </div>

                            <div class="product-default pl-3 pr-3">
                                <figure>
                                    <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">
                                        <img src="~/images/demoes/demo9/products/product-7.jpg" alt="product" width="300" height="300" />
                                    </a>
                                    <div class="label-group">
                                        <span class="product-label label-sale">-30%</span>
                                    </div>
                                </figure>
                                <div class="product-details">
                                    <div class="category-list">
                                        <a href="demo9-shop.html" class="product-category">category</a>,
                                        <a href="demo9-shop.html" class="product-category">clothing</a>
                                    </div>
                                    <h3 class="product-title">
                                        <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">Women Black Bag</a>
                                    </h3>
                                    <div class="ratings-container">
                                        <div class="product-ratings">
                                            <span class="ratings" style="width:0%"></span>
                                            <!-- End .ratings -->
                                            <span class="tooltiptext tooltip-top"></span>
                                        </div>
                                        <!-- End .product-ratings -->
                                    </div>
                                    <!-- End .product-container -->
                                    <div class="price-box">
                                        <span class="product-price">$299.00</span>
                                    </div>
                                    <!-- End .price-box -->
                                </div>
                                <!-- End .product-details -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End .col-md-4 -->

                <div class="col-md-6 mb-2 appear-animate" data-animation-delay="500" data-animation-name="fadeIn">
                    <div class="home-products bg-gray p-y-5">
                        <h3 class="section-sub-title">NEW ARRIVAL PRODUCTS</h3>

                        <div class="owl-carousel owl-theme nav-image-center nav-thin nav-style-1" data-owl-options="{
                                    'dots': false,
                                    'nav': true,
                                    'responsive': {
                                        '480': {
                                            'items': 1
                                        },
                                        '768': {
                                            'items': 1
                                        }
                                    }
                                }">
                            <div class="product-default pl-3 pr-3 pl-3 pr-3">
                                <figure>
                                    <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">
                                        <img src="~/images/demoes/demo9/products/product-2.jpg" alt="product" width="300" height="300" />
                                    </a>
                                    <div class="label-group">
                                        <span class="product-label label-hot">HOT</span>
                                    </div>
                                </figure>
                                <div class="product-details">
                                    <div class="category-list">
                                        <a href="demo9-shop.html" class="product-category">headphone</a>,
                                        <a href="demo9-shop.html" class="product-category">toys</a>
                                    </div>
                                    <h3 class="product-title">
                                        <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">Women Winter Shoes</a>
                                    </h3>
                                    <div class="ratings-container">
                                        <div class="product-ratings">
                                            <span class="ratings" style="width:0%"></span>
                                            <!-- End .ratings -->
                                            <span class="tooltiptext tooltip-top"></span>
                                        </div>
                                        <!-- End .product-ratings -->
                                    </div>
                                    <!-- End .product-container -->
                                    <div class="price-box">
                                        <span class="product-price">$299.00</span>
                                    </div>
                                    <!-- End .price-box -->
                                </div>
                                <!-- End .product-details -->
                            </div>

                            <div class="product-default pl-3 pr-3">
                                <figure>
                                    <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">
                                        <img src="~/images/demoes/demo9/products/product-9.jpg" alt="product" width="300" height="300" />
                                    </a>
                                    <div class="label-group">
                                        <span class="product-label label-sale">-10%</span>
                                    </div>
                                </figure>
                                <div class="product-details">
                                    <div class="category-list">
                                        <a href="demo9-shop.html" class="product-category">category</a>
                                    </div>
                                    <h3 class="product-title">
                                        <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">Black Women Underwear</a>
                                    </h3>
                                    <div class="ratings-container">
                                        <div class="product-ratings">
                                            <span class="ratings" style="width:0%"></span>
                                            <!-- End .ratings -->
                                            <span class="tooltiptext tooltip-top"></span>
                                        </div>
                                        <!-- End .product-ratings -->
                                    </div>
                                    <!-- End .product-container -->
                                    <div class="price-box">
                                        <span class="product-price">$209.00 – $249.00</span>
                                    </div>
                                    <!-- End .price-box -->
                                </div>
                                <!-- End .product-details -->
                            </div>

                            <div class="product-default pl-3 pr-3">
                                <figure>
                                    <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">
                                        <img src="~/images/demoes/demo9/products/product-7.jpg" alt="product" width="300" height="300" />
                                    </a>
                                    <div class="label-group">
                                        <span class="product-label label-sale">-30%</span>
                                    </div>
                                </figure>
                                <div class="product-details">
                                    <div class="category-list">
                                        <a href="demo9-shop.html" class="product-category">category</a>,
                                        <a href="demo9-shop.html" class="product-category">clothing</a>
                                    </div>
                                    <h3 class="product-title">
                                        <a href="@Url.Action("DashBoard","DashBoard",new {area="User"})">Women Black Bag</a>
                                    </h3>
                                    <div class="ratings-container">
                                        <div class="product-ratings">
                                            <span class="ratings" style="width:0%"></span>
                                            <!-- End .ratings -->
                                            <span class="tooltiptext tooltip-top"></span>
                                        </div>
                                        <!-- End .product-ratings -->
                                    </div>
                                    <!-- End .product-container -->
                                    <div class="price-box">
                                        <span class="product-price">$299.00</span>
                                    </div>
                                    <!-- End .price-box -->
                                </div>
                                <!-- End .product-details -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End .col-md-4 -->
            </div>
            <!-- End .row -->
        </div>
        <!-- End .row.home-products -->

        <div class="mb-3"></div>
        <!-- margin -->

        <section class="fashion-products-section pb-2 appear-animate" data-animation-delay="100" data-animation-duration="1500">
            <h2 class="section-title title-decorate text-center d-flex align-items-center">
                FASHION SELECTION
            </h2>
            <div class="owl-carousel owl-theme nav-image-center" data-owl-options="{
                        'margin': 20,
                        'dots': false,
                        'nav': true,
                        'loop': false,
                        'autoplay': false,
                        'responsive': {
                            '0': {
                                'items': 2
                            },
                            '768': {
                                'items': 3
                            },
                            '1200': {
                                'items': 4
                            }
                        }
                    }">
                @foreach (var product in product2s)
                {
                    <div class="product-default left-details">
                        <figure>
                            <a asp-area="User" asp-controller="Dashboard" asp-action="ProductDetail" asp-route-id="@product.ProductId">
                                <img src="@product.ImageUrl" alt="product" width="300" height="300">
                            </a>
                            <div class="label-group">
                                <span class="product-label label-hot">HOT</span>
                            </div>
                        </figure>
                        <div class="product-details">
                            <div class="category-list">
                                @foreach (var category in product.CategoryNames!)
                                {
                                    <a href="@Url.Action("CategoryProduct","DashBoard",new {area="User", category=category})" class="product-category">@category ,</a>
                                }
                            </div>
                            <h3 class="product-title">
                                <a href="@Url.Action("ProductDetail","DashBoard",new {area="User", id =@product.ProductId})">@product.Name</a>
                            </h3>
                            <div class="ratings-container">
                                <div class="product-ratings">
                                    <span class="ratings" style="width:0%"></span>
                                    <!-- End .ratings -->
                                    <span class="tooltiptext tooltip-top"></span>
                                </div>
                                <!-- End .product-ratings -->
                            </div>
                            <!-- End .product-container -->
                            <div class="price-box">
                                @if (product.PromotionPrice != null)
                                {
                                    <span class="old-price">@product.Price VND</span>
                                    <span class="new-price">@product.PromotionPrice VND</span>
                                }
                                else
                                {
                                    <span class="new-price">@product.Price</span>
                                }

                            </div>
                            <!-- End .price-box -->
                            <div class="product-action">
                                <a asp-area="User" asp-controller="Dashboard" asp-action="AddItem" asp-route-id="@product.ProductId" class="btn-icon btn-add-cart product-type-simple">
                                    <i class="icon-shopping-cart"></i><span>ADD TO CART</span>
                                </a>
                                <a href="#" class="btn-icon-wish" title="wishlist">
                                    <i class="icon-heart"></i>
                                </a>
                                <a href="ajax/product-quick-view.html" class="btn-quickview" title="Quick View">
                                    <i class="fas fa-external-link-alt"></i>
                                </a>
                            </div>
                        </div>
                        <!-- End .product-details -->
                    </div>
                }
        </section>

        <div class="m-b-1"></div>
        <!-- margin -->

        <div class="brands-section appear-animate p-y-5">
            <div class="container">
                <div class="brands-slider images-center owl-carousel owl-theme nav-pos-outside show-nav-hover appear-animate" data-owl-options="{
                                'margin': 0,
                                'loop': true,
                                'autoplay': true
                            }">
                    <img src="~/images/brands/small/brand1.png" width="140" height="60" alt="logo" />
                    <img src="~/images/brands/small/brand2.png" width="140" height="60" alt="logo" />
                    <img src="~/images/brands/small/brand3.png" width="140" height="60" alt="logo" />
                    <img src="~/images/brands/small/brand4.png" width="140" height="60" alt="logo" />
                    <img src="~/images/brands/small/brand5.png" width="140" height="60" alt="logo" />
                    <img src="~/images/brands/small/brand6.png" width="140" height="60" alt="logo" />
                </div>
                <!-- End .partners-carousel -->
            </div>
            <!-- End .container -->
        </div>
        </div>
        <!-- End .container -->
    </main>
    <!-- End .main -->

    @await Html.PartialAsync("_Footer");

    <!-- Plugins JS File -->
    <script data-cfasync="false" src="~/js/email-decode.min.js"></script>
    <script src="~/js/jquery.min.js"></script>
    <script src="~/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/plugins.min.js"></script>
    <script src="~/js/jquery.appear.min.js"></script>
    <!-- Main JS File -->
    <script src="~/lib/jquery/dist/main.min.js"></script>
    <script>
        $(document).ready(function () {
            // Loại bỏ sự kiện click trước khi đăng ký lại
            $(document).off("click", ".btn-add-cart");

            // Đăng ký sự kiện click
            $(document).on("click", ".btn-add-cart", function (e) {
                e.preventDefault(); // Ngăn chặn hành vi mặc định của thẻ <button>
                var url = $(this).attr("href"); // Lấy URL từ thuộc tính href của nút
                var productId = url.split('/').pop();
                var cartContainer = $("#cart-container"); // Phần tử chứa giỏ hàng cần cập nhật
                $.ajax({
                    type: "GET", // Loại yêu cầu HTTP (GET hoặc POST)
                    url: url, // Đường dẫn gửi yêu cầu
                    success: function (response) {
                        // Nếu thành công, cập nhật phần giỏ hàng
                        alert('Product added to cart successfully!');
                        $(".dropdownmenu-wrapper").html(response);
                    },
                    error: function (xhr) {
                        // Nếu xảy ra lỗi, hiển thị thông báo
                        alert("Có lỗi xảy ra, vui lòng thử lại!");
                        console.error(xhr.responseText);
                    }
                });
            });
        });
        $(document).on("click", ".btn-remove", function () {
            var cartItemId = $(this).data("id");

            if (!confirm("Bạn có chắc chắn muốn xóa sản phẩm này?")) {
                return;
            }

            // Gửi AJAX request đến server
            $.ajax({
                url: '/User/DashBoard/RemoveItem',
                type: 'GET',
                data: { id: cartItemId },
                success: function (response) {
                    $(".dropdownmenu-wrapper").html(response); // Cập nhật phần còn lại
                    $(".dropdownmenu-wrapper").prepend('<div class="dropdown-cart-header">' + cartHeader + '</div>'); // Thêm lại tiêu đề vào đầu
                },
                error: function () {
                    alert("Có lỗi xảy ra khi xóa sản phẩm.");
                }
            });
        });
    </script>
</body>


<!-- Mirrored from portotheme.com/html/porto_ecommerce/@Url.Action("DashBoard","DashBoard",new{area="User"}) by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Aug 2024 09:56:02 GMT -->
</html>